def book_list_view(library):
    if not library:
        print('В библиотеке нет книг')
    for title in library:
        print(title)


def add_book(library, title, author, year):
    if title in library:
        print(f'\nКнига с названием "{title}" уже существует.')
        update = input('Обновить информацию о книге? (да/нет)')
        if update == 'да':
            library[title] = {'author': author, 'year': year, 'availability': 'none' }
            print(f'Информамция о книге "{title}" обновлена.\n')
        else:
            print('Информация о книге не изменилась.\n')
    else:
        library[title] = {'author': author, 'year': year, 'availability': 'none'}
        print(f'\nДобавлена книга: {title}\n')
    book_list_view(library)


def remove_book(library, title):
    if title in library:
        del library[title]
        print(f'\nКнига {title} была удалена из библиотеки.\n')
    else:
        print(f'\nКнига {title} не найдена.\n')
    book_list_view(library)


def issue_book(library, title):
    if title not in library:
        print(f'\nКнига {title} не найдена.\n')
        return
    availability = library[title]['availability']
    if availability == 'true':
        library[title]['availability'] = 'false'
        print(f'\nКнига {title} выдана')
    elif availability == 'none':
        print(f'\nКнига {title} еще не инвентаризирована')
    elif availability == 'false':
        print(f'\nКнига {title} уже выдана')


def return_book(library, title):
    availability = library[title]['availability']
    if availability == 'false':
        library[title]['availability'] = 'true'
        print(f'\nКнига {title} возвращена в библиотеку.\n')
    else:
        print(f'\nКнига "{title}" уже находится в библиотеке.\n')


def find_book(library):
    find = input('Введите название книги: ')
    if find in library:
        print(f'Книга "{find}" есть в библиотеке.')
    else:
        print(f'Книга "{find}" не найдена в библиотеке.')


library = {
    'Horus Rising': {
        'author': 'new author',
        'year': '2006',
        'availability': 'true'
    },
    'False gods': {
        'author': 'Graham McNeill',
        'year': '2006',
        'availability': 'true'
    },
    'Galaxy in Flames': {
        'author': 'Ben Counter',
        'year': '2006',
        'availability': 'true'
    },
}


book_list_view(library)
add_book(library,'Burning of Prospero', 'Den Abnet', '2013')
add_book(library,'Horus Rising', 'Den Abnet', '2006')
remove_book(library,'Galaxy in Flames')
issue_book(library,'False gods')
return_book(library,'False gods')
find_book(library)
